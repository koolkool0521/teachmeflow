<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÌÜµÏùº¬∑ÎèÖÎèÑ Ïã¨Ìôî ÏãúÎÆ¨Î†àÏù¥ÏÖò</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- React & ReactDOM CDN -->
    <script src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    <!-- Babel CDN (For JSX transpilation in browser) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <!-- Lucide Icons CDN -->
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Pretendard:wght@400;700;900&display=swap');
        body { font-family: 'Pretendard', sans-serif; }
        @keyframes bounce-short {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .animate-bounce-short { animation: bounce-short 2s ease-in-out infinite; }
    </style>
</head>
<body class="bg-slate-900 text-slate-100">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Lucide Icon Wrapper Component
        const Icon = ({ name, className = "w-6 h-6" }) => {
            useEffect(() => {
                lucide.createIcons();
            }, [name]);
            return <i data-lucide={name} className={className}></i>;
        };

        const App = () => {
            const [currentTopic, setCurrentTopic] = useState(null); 
            const [stage, setStage] = useState('menu'); 
            const [score, setScore] = useState(0);
            const [diplomacyPower, setDiplomacyPower] = useState(50); 
            const [quizIndex, setQuizIndex] = useState(0);
            const [negotiationStep, setNegotiationStep] = useState(0);
            const [feedback, setFeedback] = useState(null);

            // --- DATA: UNIFICATION ---
            const unificationData = {
                timeline: [
                    { year: '1945', event: 'Í¥ëÎ≥µÍ≥º Íµ≠ÌÜ† Î∂ÑÎã®', desc: '8.15 Í¥ëÎ≥µ Ïù¥ÌõÑ 38ÎèÑÏÑ†ÏùÑ Í≤ΩÍ≥ÑÎ°ú ÎÇ®Í≥º Î∂ÅÏù¥ ÎÇòÎâòÏóàÏäµÎãàÎã§.' },
                    { year: '1950', event: '6.25 Ï†ÑÏüÅ Î∞úÎ∞ú', desc: 'ÎØºÏ°±Ïùò ÌÅ∞ ÎπÑÍ∑πÏù¥Ïûê ÎÇ®Î∂Å Í∞àÎì±Ïù¥ ÍπäÏñ¥ÏßÑ Í≤∞Ï†ïÏ†Å ÏÇ¨Í±¥ÏûÖÎãàÎã§.' },
                    { year: '1972', event: '7.4 ÎÇ®Î∂Å Í≥µÎèô ÏÑ±Î™Ö', desc: 'ÏûêÏ£º, ÌèâÌôî, ÎØºÏ°± ÎåÄÎã®Í≤∞Ïùò ÌÜµÏùº 3ÎåÄ ÏõêÏπôÏùÑ Ï≤òÏùå Ìï©ÏùòÌñàÏäµÎãàÎã§.' },
                    { year: '1991', event: 'ÎÇ®Î∂Å Í∏∞Î≥∏ Ìï©ÏùòÏÑú', desc: 'ÎÇ®Î∂Å Í¥ÄÍ≥ÑÎ•º ÎÇòÎùºÏôÄ ÎÇòÎùº ÏÇ¨Ïù¥Í∞Ä ÏïÑÎãå ÌÜµÏùºÏùÑ ÏßÄÌñ•ÌïòÎäî "ÌäπÏàò Í¥ÄÍ≥Ñ"Î°ú Í∑úÏ†ïÌñàÏäµÎãàÎã§.' },
                    { year: '2000', event: '6.15 ÎÇ®Î∂Å Í≥µÎèô ÏÑ†Ïñ∏', desc: 'ÏµúÏ¥àÏùò ÎÇ®Î∂Å Ï†ïÏÉÅÌöåÎã¥ÏúºÎ°ú ÌèâÌôî ÍµêÎ•òÏùò Î¨ºÍº¨Î•º ÌÖÑÏäµÎãàÎã§.' },
                    { year: '2018', event: 'ÌåêÎ¨∏Ï†ê ÏÑ†Ïñ∏', desc: 'ÌïúÎ∞òÎèÑÏùò ÌèâÌôîÏôÄ Î≤àÏòÅ, ÌÜµÏùºÏùÑ ÏúÑÌïú ÎåÄÌôîÍ∞Ä Ïù¥Ïñ¥Ï°åÏäµÎãàÎã§.' },
                ],
                quizzes: [
                    {
                        question: "1991ÎÖÑ ÎÇ®Î∂Å Í∏∞Î≥∏ Ìï©ÏùòÏÑúÏóêÏÑú Ï†ïÏùòÌïú 'ÌäπÏàò Í¥ÄÍ≥Ñ'Ïùò ÏùòÎØ∏Îäî Î¨¥ÏóáÏù∏Í∞ÄÏöî?",
                        options: ["Íµ≠Ï†úÎ≤ïÏÉÅ ÏôÑÏ†ÑÌïú ÎÇ®ÎÇ®Ïù¥Îã§", "ÎÇòÎùº Í∞ÑÏùò Í¥ÄÍ≥ÑÍ∞Ä ÏïÑÎãå ÌÜµÏùºÏùÑ ÏßÄÌñ•ÌïòÎäî Í≥ºÏ†ïÏùò Í¥ÄÍ≥ÑÎã§", "Ï†ÑÏüÅÏùÑ Ï§ÄÎπÑÌïòÎäî ÏûÑÏãú Ìú¥Ï†Ñ Í¥ÄÍ≥ÑÎã§", "Ïù¥ÎØ∏ ÌÜµÏùºÏù¥ ÏôÑÎ£åÎêú ÏÉÅÌÉúÎã§"],
                        answer: 1,
                        explanation: "Ïù¥ Ìï©ÏùòÏÑúÎäî ÏÑúÎ°úÏùò Ï≤¥Ï†úÎ•º Ïù∏Ï†ïÌïòÎ©¥ÏÑúÎèÑ 'Ïû†Ï†ïÏ†ÅÏù∏ ÌäπÏàò Í¥ÄÍ≥Ñ'ÏûÑÏùÑ Î™ÖÏãúÌñàÏäµÎãàÎã§."
                    },
                    {
                        question: "ÎÇ®Î∂ÅÌïúÏù¥ Ï≤òÏùåÏúºÎ°ú ÌÜµÏùºÏùò 3ÎåÄ ÏõêÏπôÏóê Ìï©ÏùòÌïú Î¨∏ÏÑúÏùò Ïù¥Î¶ÑÏùÄ?",
                        options: ["6.15 Í≥µÎèô ÏÑ†Ïñ∏", "ÌåêÎ¨∏Ï†ê ÏÑ†Ïñ∏", "7.4 ÎÇ®Î∂Å Í≥µÎèô ÏÑ±Î™Ö", "ÎÇ®Î∂Å Í∏∞Î≥∏ Ìï©ÏùòÏÑú"],
                        answer: 2,
                        explanation: "1972ÎÖÑ Î∞ïÏ†ïÌù¨ Ï†ïÎ∂Ä ÏãúÏ†à, ÏûêÏ£º¬∑ÌèâÌôî¬∑ÎØºÏ°± ÎåÄÎã®Í≤∞Ïùò ÏõêÏπôÏùÑ ÏÑ∏Ïõ†ÏäµÎãàÎã§."
                    },
                    {
                        question: "ÌÜµÏùº ÌïúÎ∞òÎèÑÍ∞Ä Ïú†ÎùºÏãúÏïÑ ÎåÄÎ•ôÍ≥º Ïó∞Í≤∞Îê† Îïå ÏñªÎäî Î¨ºÎ•òÏ†Å Ïù¥Ï†êÏùÄ?",
                        options: ["Ìï¥ÏÉÅ ÍµêÌÜµÎ°ú Ï∞®Îã®", "Ï≤†ÎèÑÎ•º ÌÜµÌïú Ïú†ÎüΩÍπåÏßÄÏùò Î¨ºÎ•òÎπÑ Ï†àÍ∞ê", "Ïù∏Íµ¨ Í∞êÏÜå Î¨∏Ï†ú Ìï¥Í≤∞", "Î∂ÅÌïú ÏûêÏõê ÎèÖÏ†ê"],
                        answer: 1,
                        explanation: "TKR(ÌïúÎ∞òÎèÑ Ï¢ÖÎã®Ï≤†ÎèÑ)Í≥º TSR(ÏãúÎ≤†Î¶¨ÏïÑ Ìö°Îã®Ï≤†ÎèÑ) Ïó∞Í≤∞Î°ú Î¨ºÎ•ò ÌòÅÎ™ÖÏù¥ Í∞ÄÎä•Ìï¥ÏßëÎãàÎã§."
                    }
                ],
                negotiation: [
                    {
                        speaker: "ÏùºÎ≥∏ Ïô∏Î¨¥ÏÑ± Íµ≠Ïû•",
                        message: "ÌÜµÏùº ÌïúÍµ≠Ïù¥ ÌÉÑÏÉùÌïòÎ©¥ ÏùºÎ≥∏Ïùò ÏïàÎ≥¥Ï†Å ÏßÄÏúÑÍ∞Ä ÏúÑÌÉúÎ°úÏõåÏßà Ïàò ÏûàÎã§Îäî Ïö∞Î†§Í∞Ä ÌÅΩÎãàÎã§. Íµ∞ÏÇ¨Î†•ÏùÑ ÌôïÏû•ÌïòÎ†§Îäî Í≤É ÏïÑÎãôÎãàÍπå?",
                        options: [
                            { text: "ÌÜµÏùºÏùÄ ÌïúÎ∞òÎèÑÏùò ÎπÑÌïµÌôîÎ•º ÏùòÎØ∏ÌïòÎ©∞, Ïù¥Îäî ÎèôÎ∂ÅÏïÑ Ï†ÑÏ≤¥Ïùò ÏúÑÌòëÏùÑ Ï†úÍ±∞ÌïòÎäî ÌèâÌôîÏ†Å Ï°∞ÏπòÏûÖÎãàÎã§.", points: 15, power: 10, feedback: "ÏïàÎ≥¥Ï†Å Î∂àÏïàÍ∞êÏùÑ ÌèâÌôîÏùò Í∏∞ÌöåÎ°ú ÏäπÌôîÏãúÌÇ® ÌõåÎ•≠Ìïú ÎãµÎ≥ÄÏûÖÎãàÎã§." },
                            { text: "Ïö∞Î¶¨ Íµ∞ÏÇ¨Î†•ÏùÄ Ïö∞Î¶¨ Ï£ºÍ∂åÏûÖÎãàÎã§. ÏùºÎ≥∏Ïù¥ Í∞ÑÏÑ≠Ìï† ÏòÅÏó≠Ïù¥ ÏïÑÎãôÎãàÎã§.", points: 5, power: -10, feedback: "Ï£ºÍ∂å Í∞ïÏ°∞ÎèÑ Ï¢ãÏßÄÎßå, Ïô∏Íµê ÌòÑÏû•ÏóêÏÑúÎäî ÏÉÅÎåÄÎ•º ÏïàÏã¨ÏãúÌÇ§Îäî ÎÖºÎ¶¨Í∞Ä Îçî Ìö®Í≥ºÏ†ÅÏûÖÎãàÎã§." },
                            { text: "ÌÜµÏùº ÌõÑÏóêÎèÑ ÎØ∏Íµ∞Í≥ºÏùò ÌòëÎ†•ÏùÑ Ïú†ÏßÄÌïòÎ©∞ ÎèôÎ∂ÅÏïÑ ÏïàÎ≥¥ Í∑†ÌòïÏùÑ ÏßÄÌÇ¨ Í≤ÉÏûÖÎãàÎã§.", points: 10, power: 5, feedback: "Í∏∞Ï°¥ Íµ≠Ï†ú ÏßàÏÑú Ïú†ÏßÄÎ•º Í∞ïÏ°∞ÌïòÏó¨ Ïã†Î¢∞Î•º ÏñªÏóàÏäµÎãàÎã§." }
                        ]
                    },
                    {
                        speaker: "ÏùºÎ≥∏ Ïô∏Î¨¥ÏÑ± Íµ≠Ïû•",
                        message: "Í≤ΩÏ†úÏ†ÅÏúºÎ°úÎèÑ ÌïúÍµ≠Ïù¥ Î∂ÅÌïúÏùò Ï†ÄÎ†¥Ìïú ÎÖ∏ÎèôÎ†•Í≥º ÎÇ®ÌïúÏùò Í∏∞Ïà†Î†•ÏùÑ Ìï©ÏπòÎ©¥ ÏùºÎ≥∏ Í∏∞ÏóÖÎì§Ïóê ÌÅ∞ ÌÉÄÍ≤©Ïù¥ Îê† Í≤É Í∞ôÏäµÎãàÎã§.",
                        options: [
                            { text: "ÌÜµÏùº ÌïúÍµ≠ÏùÄ ÏùºÎ≥∏ Í∏∞ÏóÖÏóêÍ≤åÎèÑ Î∂ÅÌïú ÏßÄÏó≠ Ïù∏ÌîÑÎùº Ìà¨ÏûêÏùò Í±∞ÎåÄÌïú Í∏∞ÌöåÎ•º Ï†úÍ≥µÌï† ÏÉÅÏÉù Î™®Îç∏ÏûÖÎãàÎã§.", points: 15, power: 5, feedback: "Í≤ΩÏ†úÏ†Å Ïù¥Ïùµ Í≥µÏú†(Win-Win) Ï†ÑÎûµÏùÄ Í∞ÄÏû• Í∞ïÎ†•Ìïú ÏÑ§Îìù ÎèÑÍµ¨ÏûÖÎãàÎã§." },
                            { text: "ÏùºÎ≥∏ Í∏∞ÏóÖÎì§ÎèÑ Í≤ΩÏüÅÎ†•ÏùÑ ÌÇ§Ïö∞Î©¥ Îê† Î¨∏Ï†úÏûÖÎãàÎã§.", points: 0, power: -15, feedback: "Ï†ÅÎåÄÏ†ÅÏù∏ ÌÉúÎèÑÎäî ÌòëÏÉÅÏùÑ Í≤∞Î†¨ÏãúÌÇ¨ Ïàò ÏûàÏäµÎãàÎã§." }
                        ]
                    },
                    {
                        speaker: "ÏùºÎ≥∏ Ïô∏Î¨¥ÏÑ± Íµ≠Ïû•",
                        message: "Ïù∏ÎèÑÏ†Å Î¨∏Ï†úÏù∏ Ïù¥ÏÇ∞Í∞ÄÏ°± ÏÉÅÎ¥âÏù¥ÎÇò Î¨∏ÌôîÏ†Å ÌÜµÌï©ÏùÄ Ïñ¥ÎñªÍ≤å ÏßÑÌñâÌï† Í≥ÑÌöçÏûÖÎãàÍπå? ÌòºÎûÄÏù¥ Ïò§ÏßÄ ÏïäÏùÑÍπåÏöî?",
                        options: [
                            { text: "Ïù¥ÎØ∏ 1991ÎÖÑ Ìï©ÏùòÏÑúÎ∂ÄÌÑ∞ ÏåìÏïÑÏò® ÍµêÎ•ò ÌòëÎ†•Ïùò Îç∞Ïù¥ÌÑ∞Î•º Î∞îÌÉïÏúºÎ°ú Îã®Í≥ÑÏ†Å ÌÜµÌï©ÏùÑ Ï∂îÏßÑÌï† Í≤ÉÏûÖÎãàÎã§.", points: 15, power: 5, feedback: "Ïó≠ÏÇ¨Ï†Å Ìï©ÏùòÎ•º Í∑ºÍ±∞Î°ú Ï§ÄÎπÑÎêú Íµ≠Í∞ÄÏûÑÏùÑ Ï¶ùÎ™ÖÌñàÏäµÎãàÎã§." },
                            { text: "ÌòºÎûÄÏùÄ Î∂àÍ∞ÄÌîºÌïòÏßÄÎßå Ïö∞Î¶¨Í∞Ä ÏïåÏïÑÏÑú Ìï¥Í≤∞ÌïòÍ≤†ÏäµÎãàÎã§.", points: 5, power: -5, feedback: "Ï°∞Í∏à Îçî Ï≤¥Í≥ÑÏ†ÅÏù∏ Í≥ÑÌöçÏùÑ Î≥¥Ïó¨Ï£ºÎäî Í≤ÉÏù¥ Ï¢ãÏäµÎãàÎã§." }
                        ]
                    },
                    {
                        speaker: "ÏùºÎ≥∏ Ïô∏Î¨¥ÏÑ± Íµ≠Ïû•",
                        message: "ÎßàÏßÄÎßâÏúºÎ°ú, ÌÜµÏùº ÌïúÍµ≠ÏùÄ Í≥ºÍ±∞ÏÇ¨ Î¨∏Ï†úÏóê ÎåÄÌï¥ ÏùºÎ≥∏Í≥º Ïñ¥Îñ§ Í¥ÄÍ≥ÑÎ•º Îß∫Í∏∏ Ìù¨ÎßùÌï©ÎãàÍπå?",
                        options: [
                            { text: "ÏßÑÏã§Îêú Í≥ºÍ±∞ ÏÑ±Ï∞∞ÏùÑ Î∞îÌÉïÏúºÎ°ú, ÎØ∏Îûò ÏßÄÌñ•Ï†ÅÏù∏ ÎèôÎ∂ÅÏïÑÏùò ÎèôÎ∞òÏûê Í¥ÄÍ≥ÑÎ•º Îß∫Í≥† Ïã∂ÏäµÎãàÎã§.", points: 20, power: 15, feedback: "ÎèÑÎçïÏ†Å Ïö∞ÏúÑÏôÄ ÎØ∏Îûò ÎπÑÏ†ÑÏùÑ ÎèôÏãúÏóê Î≥¥Ïó¨Ï§Ä ÏµúÍ≥†Ïùò ÎßàÎ¨¥ÏûÖÎãàÎã§." },
                            { text: "ÌÜµÏùºÏùò ÌûòÏúºÎ°ú Í≥ºÍ±∞Ïùò Î™®Îì† Î¨∏Ï†úÎ•º ÌûòÏúºÎ°ú Ìï¥Í≤∞ÌïòÍ≤†ÏäµÎãàÎã§.", points: -10, power: -20, feedback: "Ïô∏ÍµêÎäî Î≥¥Î≥µÏù¥ ÏïÑÎãå ÌòëÎ†•Ïùò Ïû•ÏûÑÏùÑ ÏûäÏßÄ ÎßàÏÑ∏Ïöî." }
                        ]
                    }
                ]
            };

            // --- DATA: DOKDO ---
            const dokdoData = {
                timeline: [
                    { year: '512ÎÖÑ', event: 'Ïã†ÎùºÏùò Ïö∞ÏÇ∞Íµ≠ Î≥µÏÜç', desc: 'ÏßÄÏ¶ùÏôï Îïå Ïù¥ÏÇ¨Î∂Ä Ïû•Íµ∞Ïù¥ Ïö∞ÏÇ∞Íµ≠ÏùÑ Î≥µÏÜçÏãúÌÇ§Î©∞ ÎèÖÎèÑÍ∞Ä Ïö∞Î¶¨ Ïó≠ÏÇ¨Ïóê Ï≤òÏùå Îì±Ïû•ÌñàÏäµÎãàÎã§.' },
                    { year: '1454ÎÖÑ', event: 'ÏÑ∏Ï¢ÖÏã§Î°ùÏßÄÎ¶¨ÏßÄ Í∏∞Î°ù', desc: '"Ïö∏Î¶âÎèÑÏôÄ ÎèÖÎèÑ Îëê ÏÑ¨Ïù¥ ÏÑúÎ°ú Î©ÄÏßÄ ÏïäÏïÑ ÎÇ†Ïî®Í∞Ä ÎßëÏúºÎ©¥ Î∞îÎùºÎ≥º Ïàò ÏûàÎã§"Í≥† Í∏∞Î°ùÎêòÏóàÏäµÎãàÎã§.' },
                    { year: '17ÏÑ∏Í∏∞ ÌõÑÎ∞ò', event: 'ÏïàÏö©Î≥µÏùò ÌôúÏïΩ', desc: 'ÏàôÏ¢Ö Îïå ÏùºÎ≥∏Ïóê Í±¥ÎÑàÍ∞Ä ÎèÖÎèÑÍ∞Ä Ï°∞ÏÑ†Ïùò ÏòÅÌÜ†ÏûÑÏùÑ ÌôïÎãµÎ∞õÍ≥† ÏùºÎ≥∏ Ïñ¥ÎØºÏùò Ïπ®Î≤îÏùÑ ÎßâÏïòÏäµÎãàÎã§.' },
                    { year: '1900ÎÖÑ', event: 'ÎåÄÌïúÏ†úÍµ≠ ÏπôÎ†π Ï†ú41Ìò∏', desc: 'ÎèÖÎèÑÎ•º Ïö∏ÎèÑÍµ∞ Í¥ÄÌï† Íµ¨Ïó≠ÏúºÎ°ú Î™ÖÏãúÌïòÏó¨ Í∑ºÎåÄ Î≤ïÏ†ÅÏúºÎ°ú ÏòÅÌÜ† Ï£ºÍ∂åÏùÑ ÏÑ†Ìè¨ÌñàÏäµÎãàÎã§.' },
                    { year: '1946ÎÖÑ', event: 'SCAPIN 677 Í∞ÅÏÑú', desc: 'Ïó∞Ìï©Íµ≠ ÏµúÍ≥† ÏÇ¨Î†πÍ¥Ä Í∞ÅÏÑúÏóêÏÑú ÎèÖÎèÑÎ•º ÏùºÎ≥∏Ïùò ÏòÅÏó≠ÏóêÏÑú Î™ÖÌôïÌûà Ï†úÏô∏ÌñàÏäµÎãàÎã§.' },
                    { year: 'ÌòÑÎåÄ', event: 'Ïã§Ìö®Ï†Å ÏßÄÎ∞∞', desc: 'Ïö∞Î¶¨ÎÇòÎùº ÎèôÌï¥ÏïàÏùò ÏöîÏ∂©ÏßÄÎ°ú Í≤ΩÏ∞∞Ïù¥ ÏÉÅÏ£ºÌïòÎ©∞ Ï£ºÍ∂åÏùÑ ÌñâÏÇ¨ÌïòÍ≥† ÏûàÏäµÎãàÎã§.' },
                ],
                quizzes: [
                    {
                        question: "ÏÑ∏Ï¢ÖÏã§Î°ùÏßÄÎ¶¨ÏßÄÏóê Í∏∞Î°ùÎêú ÎèÖÎèÑ Í¥ÄÎ†® ÎÇ¥Ïö©ÏúºÎ°ú Ïò≥ÏùÄ Í≤ÉÏùÄ?",
                        options: ["ÎèÖÎèÑÎäî Î¨¥Ïù∏ÎèÑÎùº Ï£ºÏù∏ ÏóÜÎäî ÎïÖÏù¥Îã§", "Ïö∏Î¶âÎèÑÏôÄ ÎèÖÎèÑÍ∞Ä ÏÑúÎ°ú Î≥¥Ïó¨ÏÑú Ïö∞Î¶¨ ÎïÖÏù¥Îã§", "ÎèÖÎèÑÎäî ÏùºÎ≥∏ÏóêÏÑú Îçî Ïûò Î≥¥Ïù∏Îã§", "ÎèÖÎèÑÎäî ÎÜçÏÇ¨ÏßìÍ∏∞ Ï¢ãÏùÄ ÎïÖÏù¥Îã§"],
                        answer: 1,
                        explanation: "ÎßëÏùÄ ÎÇ† Ïú°ÏïàÏúºÎ°ú Î≥¥Ïù∏Îã§Îäî Í∏∞Î°ùÏùÄ ÏßÄÎ¶¨Ï†Å Ïù∏Ï†ëÏÑ±ÏùÑ Ï¶ùÎ™ÖÌïòÎäî Ï§ëÏöîÌïú Í≥†Î¨∏Ìóå Í∑ºÍ±∞ÏûÖÎãàÎã§."
                    },
                    {
                        question: "ÏïàÏö©Î≥µÏùò ÌôúÏïΩÏù¥ ÎèÖÎèÑ Ïó≠ÏÇ¨ÏóêÏÑú Í∞ñÎäî Ï§ëÏöîÌïú ÏùòÎØ∏Îäî?",
                        options: ["ÎèÖÎèÑÏóê ÎÇòÎ¨¥Î•º ÎßéÏù¥ Ïã¨ÏóàÎã§", "ÏùºÎ≥∏ Ïñ¥ÎØºÏùò Ïπ®Î≤îÏùÑ ÎßâÍ≥† Ï°∞ÏÑ† ÏòÅÌÜ†ÏûÑÏùÑ ÌôïÏù∏Î∞õÏïòÎã§", "ÎèÖÎèÑÏóê ÏµúÏ¥àÏùò Í±¥Î¨ºÏùÑ ÏßÄÏóàÎã§", "ÏùºÎ≥∏Í≥º Í≥µÎèô Ïñ¥Î°ú Íµ¨Ïó≠ÏùÑ ÎßåÎì§ÏóàÎã§"],
                        answer: 1,
                        explanation: "ÏïàÏö©Î≥µÏùÄ Ï°∞ÏÑ† ÌõÑÍ∏∞ ÎØºÍ∞Ñ Ïô∏ÍµêÍ¥ÄÏúºÎ°úÏÑú ÎèÖÎèÑ Ï£ºÍ∂åÏùÑ ÏàòÌò∏ÌïòÎäî Îç∞ Í≤∞Ï†ïÏ†Å Ïó≠Ìï†ÏùÑ ÌñàÏäµÎãàÎã§."
                    },
                    {
                        question: "1900ÎÖÑ ÎåÄÌïúÏ†úÍµ≠ ÏπôÎ†π Ï†ú41Ìò∏Ïùò Î≤ïÏ†Å ÏùòÎØ∏Îäî?",
                        options: ["ÎèÖÎèÑÎ•º ÏùºÎ≥∏Ïóê ÎπåÎ†§Ï£ºÏóàÎã§", "ÎèÖÎèÑÎ•º ÌñâÏ†ï Íµ¨Ïó≠ÏÉÅ Ïö∏ÎèÑÍµ∞Ïóê Ìé∏ÏûÖÌï¥ Ï£ºÍ∂åÏùÑ Í≥µÍ≥†Ìûà ÌñàÎã§", "ÎèÖÎèÑÏùò Ïù¥Î¶ÑÏùÑ Ï£ΩÎèÑÎ°ú Î∞îÍæ∏ÏóàÎã§", "ÎèÖÎèÑ Ïñ¥ÏóÖÍ∂åÏùÑ Ìè¨Í∏∞ÌñàÎã§"],
                        answer: 1,
                        explanation: "Í∑ºÎåÄ Íµ≠Í∞ÄÎ°úÏÑú Íµ≠Ï†ú ÏÇ¨ÌöåÏóê ÎèÖÎèÑ Ï£ºÍ∂åÏùÑ Î≤ïÏ†ÅÏúºÎ°ú Í≥µÌè¨Ìïú ÌïµÏã¨ Î¨∏Í±¥ÏûÖÎãàÎã§."
                    }
                ],
                negotiation: [
                    {
                        speaker: "ÏùºÎ≥∏ Ïô∏Î¨¥ÏÑ± ÎåÄÎ≥ÄÏù∏",
                        message: "ÏùºÎ≥∏ÏùÄ 1905ÎÖÑ ÏãúÎßàÎÑ§ÌòÑ Í≥†ÏãúÎ•º ÌÜµÌï¥ 'Ï£ºÏù∏ ÏóÜÎäî ÎïÖ'Ïù¥ÏóàÎçò ÎèÖÎèÑÎ•º Î®ºÏ†Ä ÏòÅÌÜ†Î°ú Ìé∏ÏûÖÌñàÏäµÎãàÎã§. Ïù¥Í≤ÉÏù¥ Ïö∞Î¶¨Ïùò Í∂åÎ¶¨ÏûÖÎãàÎã§.",
                        options: [
                            { text: "Í∑∏Î≥¥Îã§ 5ÎÖÑ Ï†ÑÏù∏ 1900ÎÖÑ, ÎåÄÌïúÏ†úÍµ≠ÏùÄ ÏπôÎ†π Ï†ú41Ìò∏Î•º ÌÜµÌï¥ Ïù¥ÎØ∏ ÎèÖÎèÑÎ•º Í≥µÏãù ÌñâÏ†ï Íµ¨Ïó≠ÏúºÎ°ú Í¥ÄÎ¶¨ÌïòÍ≥† ÏûàÏóàÏäµÎãàÎã§.", points: 15, power: 15, feedback: "ÏÑ†Ï†êÏùò ÏõêÏπôÏùÑ Íµ≠Ï†úÎ≤ïÏ†Å ÏãúÏ†êÏúºÎ°ú ÏôÑÎ≤ΩÌûà Î∞òÎ∞ïÌñàÏäµÎãàÎã§!" },
                            { text: "Ï£ºÏù∏Ïù¥ Ïôú ÏóÜÏäµÎãàÍπå? Ïö∞Î¶¨ Ï°∞ÏÉÅÎì§Ïù¥ ÏàòÏ≤ú ÎÖÑ Ï†ÑÎ∂ÄÌÑ∞ ÏÇ¥Îçò Í≥≥ÏûÖÎãàÎã§.", points: 5, power: -5, feedback: "ÎßûÎäî ÎßêÏù¥ÏßÄÎßå, 'ÏπôÎ†π Ï†ú41Ìò∏'ÎùºÎäî Íµ¨Ï≤¥Ï†Å Î≤ïÎ†πÏùÑ Ïñ∏Í∏âÌïòÎäî Í≤ÉÏù¥ Ìõ®Ïî¨ Í∞ïÎ†•Ìï©ÎãàÎã§." }
                        ]
                    },
                    {
                        speaker: "ÏùºÎ≥∏ Ïô∏Î¨¥ÏÑ± ÎåÄÎ≥ÄÏù∏",
                        message: "Ï°∞ÏÑ† ÏãúÎåÄ ÏïàÏö©Î≥µÏùò ÏßÑÏà†ÏùÄ ÏùºÎ∞©Ï†ÅÏù∏ Ï£ºÏû•Ïóê Î∂àÍ≥ºÌï©ÎãàÎã§. Í≥µÏãùÏ†ÅÏù∏ Íµ≠Í∞Ä Í∞Ñ Ìï©ÏùòÍ∞Ä ÏïÑÎãàÏßÄ ÏïäÏäµÎãàÍπå?",
                        options: [
                            { text: "ÏïàÏö©Î≥µÏùò ÌôúÎèô Ïù¥ÌõÑ ÏùºÎ≥∏ ÎßâÎ∂Ä(Ï†ïÎ∂Ä)Îäî 'Ï£ΩÎèÑ ÎèÑÌï¥ Í∏àÏßÄÎ†π'ÏùÑ ÎÇ¥Î†§ ÎèÖÎèÑÍ∞Ä Ï°∞ÏÑ† ÏòÅÌÜ†ÏûÑÏùÑ Í≥µÏãù Ïù∏Ï†ïÌñàÏäµÎãàÎã§.", points: 15, power: 10, feedback: "ÏùºÎ≥∏ Ï∏°Ïùò Í≥µÏãù Í∏∞Î°ùÏùÑ Î∞òÎ∞ï Í∑ºÍ±∞Î°ú ÏÇºÏùÄ Îß§Ïö∞ Ï†ÑÎûµÏ†ÅÏù∏ ÏÑ†ÌÉùÏûÖÎãàÎã§." },
                            { text: "ÏïàÏö©Î≥µÏùÄ Ïö∞Î¶¨ ÎØºÏ°±Ïùò ÏòÅÏõÖÏù¥ÎØÄÎ°ú Í∑∏Ïùò ÎßêÏùÄ Í≥ß ÏßÑÎ¶¨ÏûÖÎãàÎã§.", points: 0, power: -10, feedback: "Ïô∏ÍµêÎäî Ï¶ùÎ™ÖÏù¥ÏßÄ Ïã†ÎÖêÏù¥ ÏïÑÎãôÎãàÎã§. ÏùºÎ≥∏ Ï†ïÎ∂ÄÏùò Í∏àÏßÄÎ†π Í∏∞Î°ùÏùÑ Ïñ∏Í∏âÌïòÏÑ∏Ïöî." }
                        ]
                    },
                    {
                        speaker: "ÏùºÎ≥∏ Ïô∏Î¨¥ÏÑ± ÎåÄÎ≥ÄÏù∏",
                        message: "ÎèÖÎèÑÎäî ÏßÄÎ¶¨Ï†ÅÏúºÎ°ú ÏùºÎ≥∏ Ïò§ÌÇ§ ÏÑ¨Í≥ºÎèÑ Í∞ÄÍπùÏäµÎãàÎã§. ÏßÄÎ¶¨Ï†Å ÌÉÄÎãπÏÑ±ÏùÄ ÏùºÎ≥∏ÏóêÎèÑ ÏûàÏßÄ ÏïäÎÇòÏöî?",
                        options: [
                            { text: "Ïö∏Î¶âÎèÑÏóêÏÑúÎäî ÎßëÏùÄ ÎÇ† ÎèÖÎèÑÍ∞Ä Î≥¥Ïù¥ÏßÄÎßå, Ïò§ÌÇ§ ÏÑ¨ÏóêÏÑúÎäî Î∂àÍ∞ÄÎä•Ìï©ÎãàÎã§. Í∞ÄÏãúÏÑ±ÏùÄ ÏßÄÎ∞∞Í∂åÏùò Í∞ÄÏû• Í∏∞Î≥∏Ï†Å ÏßÄÎ¶¨ Í∑ºÍ±∞ÏûÖÎãàÎã§.", points: 15, power: 10, feedback: "ÏßÄÎ¶¨Ï†Å Í∞ÄÏãúÏÑ± ÎÖºÎ¶¨Îäî Íµ≠Ï†ú Ïû¨ÌåêÏóêÏÑúÎèÑ ÏûêÏ£º Ïñ∏Í∏âÎêòÎäî Í∞ïÎ†•Ìïú Í∑ºÍ±∞ÏûÖÎãàÎã§." },
                            { text: "Í∞ÄÍπåÏö¥ Í±¥ Ïö∏Î¶âÎèÑÏßÄ Ïò§ÌÇ§ ÏÑ¨Ïù¥ ÏïÑÎãôÎãàÎã§. ÏßÄÎèÑÎ•º Îã§Ïãú Î≥¥ÏÑ∏Ïöî.", points: 5, power: 0, feedback: "Í∞ÄÏãúÏÑ±(Visibility)Ïù¥ÎùºÎäî Ï†ÑÎ¨∏ Ïö©Ïñ¥Î•º ÏÇ¨Ïö©ÌïòÎ©¥ Îçî ÏÑ§ÎìùÎ†•Ïù¥ ÎÜíÏïÑÏßëÎãàÎã§." }
                        ]
                    },
                    {
                        speaker: "ÏùºÎ≥∏ Ïô∏Î¨¥ÏÑ± ÎåÄÎ≥ÄÏù∏",
                        message: "ÎßàÏßÄÎßâÏúºÎ°ú, Ï†ú2Ï∞® ÏÑ∏Í≥ÑÎåÄÏ†Ñ ÌõÑ ÏÉåÌîÑÎûÄÏãúÏä§ÏΩî Í∞ïÌôî Ï°∞ÏïΩÏóêÏÑú ÎèÖÎèÑÍ∞Ä Î™ÖÏãúÎêòÏßÄ ÏïäÏïòÏúºÎØÄÎ°ú ÏùºÎ≥∏ ÏòÅÌÜ†Î°ú ÎÇ®ÏïÑÏïº ÌïúÎã§Í≥† Î¥ÖÎãàÎã§.",
                        options: [
                            { text: "Ï°∞ÏïΩ Ï†Ñ Ïó∞Ìï©Íµ≠ Í∞ÅÏÑú(SCAPIN 677)ÏóêÏÑú ÎèÖÎèÑÎäî ÏùºÎ≥∏ ÏòÅÏó≠ÏóêÏÑú Î™ÖÌôïÌûà Î∂ÑÎ¶¨ÎêòÏóàÏúºÎ©∞, Ïù¥Îäî Ï°∞ÏïΩÏùò Í∏∞Î≥∏ Ï†ïÏã†ÏûÖÎãàÎã§.", points: 20, power: 15, feedback: "Ï†ÑÌõÑ Íµ≠Ï†ú ÏßàÏÑúÏùò ÌïµÏã¨Ïù∏ SCAPIN 677ÏùÑ Ïñ∏Í∏âÌïú ÏôÑÎ≤ΩÌïú ÎßàÎ¨¥Î¶¨ÏûÖÎãàÎã§." },
                            { text: "Ï†ÑÏüÅÏóêÏÑú Ï°åÏúºÎãà Î¨¥Ï°∞Í±¥ Ïö∞Î¶¨ÏóêÍ≤å ÎèåÎ†§Ï§òÏïº ÌïòÎäî Í≤É ÏïÑÎãôÎãàÍπå?", points: -10, power: -20, feedback: "Íµ≠Ï†ú Ï°∞ÏïΩÏóê ÎåÄÌïú ÏßÄÏãùÏù¥ Î∂ÄÏ°±ÌïòÎ©¥ ÌòëÏÉÅÏóêÏÑú Î∞ÄÎ¶¥ Ïàò ÏûàÏäµÎãàÎã§." }
                        ]
                    }
                ]
            };

            const currentData = currentTopic === 'unification' ? unificationData : dokdoData;

            // --- LOGIC ---
            const handleQuizAnswer = (idx) => {
                if (idx === currentData.quizzes[quizIndex].answer) {
                    setScore(score + 15);
                    setDiplomacyPower(Math.min(100, diplomacyPower + 5));
                    setFeedback({ type: 'success', text: "Ï†ïÎãµÏûÖÎãàÎã§! " + currentData.quizzes[quizIndex].explanation });
                } else {
                    setDiplomacyPower(Math.max(0, diplomacyPower - 5));
                    setFeedback({ type: 'error', text: "Ïò§ÎãµÏûÖÎãàÎã§. " + currentData.quizzes[quizIndex].explanation });
                }
            };

            const nextQuiz = () => {
                setFeedback(null);
                if (quizIndex < currentData.quizzes.length - 1) {
                    setQuizIndex(quizIndex + 1);
                } else {
                    setStage('negotiation');
                }
            };

            const handleNegotiation = (points, power, msg) => {
                setScore(score + points);
                setDiplomacyPower(Math.max(0, Math.min(100, diplomacyPower + power)));
                setFeedback({ type: 'info', text: msg });
            };

            const nextNegotiation = () => {
                setFeedback(null);
                if (negotiationStep < currentData.negotiation.length - 1) {
                    setNegotiationStep(negotiationStep + 1);
                } else {
                    setStage('result');
                }
            };

            const resetAll = () => {
                setStage('menu');
                setCurrentTopic(null);
                setScore(0);
                setDiplomacyPower(50);
                setQuizIndex(0);
                setNegotiationStep(0);
                setFeedback(null);
            };

            return (
                <div className="min-h-screen p-4 md:p-8">
                    <div className="max-w-5xl mx-auto bg-slate-800 rounded-[2rem] shadow-[0_0_50px_rgba(0,0,0,0.5)] overflow-hidden border border-slate-700">
                        
                        {/* Header */}
                        <div className="bg-slate-900/50 p-6 border-b border-slate-700 flex flex-wrap justify-between items-center gap-4">
                            <div className="flex items-center gap-3">
                                <div className={`p-2 rounded-xl ${currentTopic === 'dokdo' ? 'bg-emerald-500' : 'bg-blue-500'}`}>
                                    <Icon name={currentTopic === 'dokdo' ? "anchor" : "globe"} className="w-6 h-6 text-white" />
                                </div>
                                <div>
                                    <h1 className="text-lg font-black tracking-tighter uppercase text-white">
                                        {currentTopic === 'dokdo' ? 'DOKDO DEFENSE COMMAND' : 'PEACE KOREA STRATEGY'}
                                    </h1>
                                    <div className="flex gap-1 mt-1">
                                        {[1,2,3,4].map(s => (
                                            <div key={s} className={`h-1 w-8 rounded-full ${stage === 'menu' ? 'bg-slate-700' : (currentTopic === 'dokdo' ? 'bg-emerald-500' : 'bg-blue-500')}`} />
                                        ))}
                                    </div>
                                </div>
                            </div>

                            <div className="flex items-center gap-6">
                                <div className="hidden md:block">
                                    <p className="text-[10px] font-bold text-slate-500 uppercase mb-1">Diplomacy Power</p>
                                    <div className="w-40 h-3 bg-slate-700 rounded-full overflow-hidden border border-slate-600">
                                        <div 
                                            className={`h-full transition-all duration-1000 ${diplomacyPower > 70 ? 'bg-emerald-400' : diplomacyPower > 40 ? 'bg-blue-400' : 'bg-red-400'}`}
                                            style={{ width: `${diplomacyPower}%` }}
                                        />
                                    </div>
                                </div>
                                <div className="text-center">
                                    <p className="text-[10px] font-bold text-slate-500 uppercase mb-1 text-white">Total Score</p>
                                    <span className="text-xl font-black text-white">{score}</span>
                                </div>
                                {stage !== 'menu' && (
                                    <button onClick={resetAll} className="bg-slate-700 hover:bg-slate-600 p-2 rounded-lg transition-colors text-white">
                                        <Icon name="home" className="w-5 h-5" />
                                    </button>
                                )}
                            </div>
                        </div>

                        {/* Content */}
                        <div className="p-6 md:p-12">
                            {stage === 'menu' && (
                                <div className="space-y-12 animate-in fade-in duration-700">
                                    <div className="text-center space-y-4">
                                        <div className="inline-block px-4 py-1 bg-blue-500/10 border border-blue-500/20 rounded-full text-blue-400 text-xs font-bold tracking-widest uppercase">
                                            Agent Identification Required
                                        </div>
                                        <h2 className="text-4xl md:text-5xl font-black text-white leading-tight">ÎåÄÌïúÎØºÍµ≠ Íµ≠Í∞ÄÏ†ÑÎûµ ÏãúÎÆ¨Î†àÏù¥ÏÖò</h2>
                                        <p className="text-slate-400 max-w-2xl mx-auto text-lg">
                                            ÏµúÍ≥† ÏàòÏ§ÄÏùò Ïó≠ÏÇ¨Ï†Å Í∑ºÍ±∞ÏôÄ Ïô∏ÍµêÏ†Å ÎÖºÎ¶¨Î•º Í∞ñÏ∂îÏñ¥Ïïº Ìï©ÎãàÎã§.
                                        </p>
                                    </div>
                                    <div className="grid grid-cols-1 md:grid-cols-2 gap-8">
                                        <button onClick={() => { setCurrentTopic('unification'); setStage('timeline'); }} className="group relative bg-slate-700/50 border border-slate-600 p-10 rounded-[2.5rem] hover:border-blue-500 hover:bg-blue-500/5 transition-all text-left">
                                            <Icon name="users" className="w-12 h-12 text-blue-500 mb-6 group-hover:scale-110 transition-transform" />
                                            <h3 className="text-2xl font-bold text-white mb-2">PROJECT: PEACE KOREA</h3>
                                            <p className="text-slate-400">ÎÇ®Î∂Å Ìï©ÏùòÏÑúÎ∂ÄÌÑ∞ ÌòÑÎåÄÏùò ÌÜµÏùº ÎπÑÏ†ÑÍπåÏßÄ.</p>
                                        </button>
                                        <button onClick={() => { setCurrentTopic('dokdo'); setStage('timeline'); }} className="group relative bg-slate-700/50 border border-slate-600 p-10 rounded-[2.5rem] hover:border-emerald-500 hover:bg-emerald-500/5 transition-all text-left">
                                            <Icon name="map" className="w-12 h-12 text-emerald-500 mb-6 group-hover:scale-110 transition-transform" />
                                            <h3 className="text-2xl font-bold text-white mb-2">PROJECT: DOKDO DEFENSE</h3>
                                            <p className="text-slate-400">Ïó≠ÏÇ¨Ï†Å¬∑ÏßÄÎ¶¨Ï†Å Í∑ºÍ±∞Î°ú ÏòÅÌÜ† ÏàòÌò∏.</p>
                                        </button>
                                    </div>
                                </div>
                            )}

                            {stage === 'timeline' && (
                                <div className="space-y-12 animate-in slide-in-from-right duration-500">
                                    <div className="flex flex-col md:flex-row md:items-end justify-between gap-4 border-b border-slate-700 pb-8">
                                        <div>
                                            <h2 className={`text-4xl font-black mb-2 ${currentTopic === 'dokdo' ? 'text-emerald-400' : 'text-blue-400'}`}>HISTORY BRIEFING</h2>
                                            <p className="text-slate-400">ÌòëÏÉÅ Ï†Ñ ÌïµÏã¨ ÏÇ¨Ïã§ÏùÑ ÏàôÏßÄÌïòÏã≠ÏãúÏò§.</p>
                                        </div>
                                    </div>
                                    <div className="space-y-8">
                                        {currentData.timeline.map((item, idx) => (
                                            <div key={idx} className="relative pl-16 group">
                                                <div className={`absolute left-4 top-2 w-4 h-4 rounded-full transition-all ${currentTopic === 'dokdo' ? 'bg-emerald-500' : 'bg-blue-500'}`} />
                                                <div className="bg-slate-900/40 border border-slate-700 p-6 rounded-2xl">
                                                    <span className="text-sm font-black text-slate-500">{item.year}</span>
                                                    <h4 className="text-xl font-bold text-white mt-1 mb-2">{item.event}</h4>
                                                    <p className="text-slate-400">{item.desc}</p>
                                                </div>
                                            </div>
                                        ))}
                                    </div>
                                    <button onClick={() => setStage('quiz')} className={`w-full py-6 rounded-2xl font-black text-white text-xl flex items-center justify-center gap-3 ${currentTopic === 'dokdo' ? 'bg-emerald-600 hover:bg-emerald-500' : 'bg-blue-600 hover:bg-blue-500'}`}>ÏßÄÏãù Í≤ÄÏ¶ù ÏãúÏûë <Icon name="chevron-right" /></button>
                                </div>
                            )}

                            {stage === 'quiz' && (
                                <div className="max-w-3xl mx-auto space-y-10">
                                    <div className="text-center">
                                        <h3 className="text-3xl font-bold text-white">{currentData.quizzes[quizIndex].question}</h3>
                                    </div>
                                    <div className="grid gap-4">
                                        {currentData.quizzes[quizIndex].options.map((opt, idx) => (
                                            <button key={idx} disabled={feedback !== null} onClick={() => handleQuizAnswer(idx)} className={`p-6 rounded-[1.5rem] border-2 text-left font-bold transition-all text-white ${feedback ? (idx === currentData.quizzes[quizIndex].answer ? 'bg-emerald-500/20 border-emerald-500 text-emerald-400' : 'bg-slate-900/50 opacity-40 border-slate-800') : 'bg-slate-900/50 border-slate-700 hover:border-slate-400'}`}>{opt}</button>
                                        ))}
                                    </div>
                                    {feedback && (
                                        <div className={`p-8 rounded-[2rem] border-l-8 ${feedback.type === 'success' ? 'bg-emerald-500/10 border-emerald-500 text-emerald-100' : 'bg-red-500/10 border-red-500 text-red-100'}`}>
                                            <p className="text-2xl font-black">{feedback.type === 'success' ? 'ACCESS GRANTED' : 'ACCESS DENIED'}</p>
                                            <p className="opacity-80 mt-2">{feedback.text}</p>
                                            <button onClick={nextQuiz} className="mt-4 bg-white/10 hover:bg-white/20 text-white px-8 py-2 rounded-full font-black text-sm">Îã§Ïùå Îã®Í≥ÑÎ°ú</button>
                                        </div>
                                    )}
                                </div>
                            )}

                            {stage === 'negotiation' && (
                                <div className="space-y-12 animate-in fade-in duration-500">
                                    <div className="flex flex-col gap-12 max-w-4xl mx-auto text-white">
                                        <div className="flex gap-6 items-start">
                                            <div className="w-16 h-16 bg-slate-700 rounded-2xl flex-shrink-0 flex items-center justify-center border-2 border-slate-600 text-3xl">üáØüáµ</div>
                                            <div className="bg-white text-slate-900 p-6 rounded-3xl rounded-tl-none">
                                                <p className="text-lg italic font-medium">"{currentData.negotiation[negotiationStep].message}"</p>
                                            </div>
                                        </div>
                                        <div className="flex gap-6 items-start flex-row-reverse">
                                            <div className={`w-16 h-16 rounded-2xl flex-shrink-0 flex items-center justify-center border-2 text-3xl ${currentTopic === 'dokdo' ? 'bg-emerald-500 border-emerald-400' : 'bg-blue-500 border-blue-400'}`}>üá∞üá∑</div>
                                            <div className="flex-1 space-y-4">
                                                {feedback ? (
                                                    <div className={`p-6 rounded-3xl rounded-tr-none text-white ${currentTopic === 'dokdo' ? 'bg-emerald-600' : 'bg-blue-600'}`}>
                                                        <p className="text-lg font-bold">Ï†ÑÎûµÏ†Å ÎãµÎ≥ÄÏùÑ Ï†ÑÎã¨ÌñàÏäµÎãàÎã§...</p>
                                                    </div>
                                                ) : (
                                                    <div className="grid gap-3">
                                                        {currentData.negotiation[negotiationStep].options.map((opt, idx) => (
                                                            <button key={idx} onClick={() => handleNegotiation(opt.points, opt.power, opt.feedback)} className="bg-slate-800 hover:bg-slate-700 border border-slate-600 p-5 rounded-2xl text-left font-bold text-white transition-all">#{idx+1} {opt.text}</button>
                                                        ))}
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    </div>
                                    {feedback && (
                                        <div className="flex flex-col items-center gap-6 mt-12">
                                            <div className="bg-amber-400 text-slate-900 px-8 py-4 rounded-2xl font-black text-xl">{feedback.text}</div>
                                            <button onClick={nextNegotiation} className="bg-white text-slate-900 px-12 py-4 rounded-full font-black text-lg">Îã§Ïùå ÌöåÎã¥ ÏßÑÌñâ</button>
                                        </div>
                                    )}
                                </div>
                            )}

                            {stage === 'result' && (
                                <div className="text-center py-10 space-y-12 animate-in zoom-in-90 text-white">
                                    <div className="relative inline-block">
                                        <Icon name="award" className={`w-40 h-40 mx-auto ${currentTopic === 'dokdo' ? 'text-emerald-400' : 'text-blue-400'}`} />
                                        <div className="mt-4 bg-yellow-500 text-slate-900 px-8 py-2 rounded-full font-black text-2xl uppercase">RANK: {score >= 100 ? 'S+' : 'A'}</div>
                                    </div>
                                    <h2 className="text-6xl font-black tracking-tighter">MISSION ACCOMPLISHED</h2>
                                    <div className="flex justify-center gap-8">
                                        <div className="bg-slate-900/50 p-8 rounded-3xl border border-slate-700 w-48">
                                            <p className="text-xs text-slate-500 uppercase font-black">Score</p>
                                            <p className="text-5xl font-black">{score}</p>
                                        </div>
                                        <div className="bg-slate-900/50 p-8 rounded-3xl border border-slate-700 w-48">
                                            <p className="text-xs text-slate-500 uppercase font-black">Diplomacy</p>
                                            <p className="text-5xl font-black">{diplomacyPower}%</p>
                                        </div>
                                    </div>
                                    <button onClick={resetAll} className="bg-white text-slate-900 px-12 py-5 rounded-2xl font-black text-xl hover:bg-slate-200 transition-all">Î©îÎâ¥Î°ú ÎèåÏïÑÍ∞ÄÍ∏∞</button>
                                </div>
                            )}
                        </div>

                        {/* Footer */}
                        <div className="bg-slate-900/80 p-6 border-t border-slate-700 flex justify-between items-center text-[10px] font-black text-slate-500 tracking-widest uppercase">
                            <span>Security Level: Top Secret</span>
                            <span>&copy; 2024 REPUBLIC OF KOREA DIPLOMATIC CENTER</span>
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>